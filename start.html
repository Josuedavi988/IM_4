<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>FitUp – Start</title>
  <link rel="stylesheet" href="styles.css" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
</head>
<body>
  <div class="container" style="background-color: #4a5d80; padding: 16px; position: relative;">
    <a href="profile.html" class="profile-icon">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" />
        <circle cx="12" cy="7" r="4" />
      </svg>
    </a>

    <h1 class="logo">FitUp</h1>

    <div class="level-indicator">LEVEL</div>
    <div class="progress-bar">
      <div class="progress-bar-inner" id="progressBar"></div>
    </div>

    <div class="weekday-tabs">
      <button class="weekday-tab"><span class="weekday-day">Mon</span><span class="weekday-date">20</span></button>
      <button class="weekday-tab"><span class="weekday-day">Tues</span><span class="weekday-date">21</span></button>
      <button class="weekday-tab active"><span class="weekday-day">Wed</span><span class="weekday-date">22</span></button>
      <button class="weekday-tab"><span class="weekday-day">Thu</span><span class="weekday-date">23</span></button>
      <button class="weekday-tab"><span class="weekday-day">Fri</span><span class="weekday-date">24</span></button>
      <button class="weekday-tab"><span class="weekday-day">Sat</span><span class="weekday-date">25</span></button>
    </div>

    <div class="timer" id="timer">ZEIT 00:00</div>
    <div class="selected-sport" id="selectedSport">Sportart: –</div>

    <a href="#" class="big-button" id="startButton">
      <div class="big-button-inner" id="startButtonText">START</div>
    </a>

    <a href="sports.html" class="button">Sportart wählen</a>
  </div>

  <script>
    let timerInterval;
    let seconds = 0;
    let isRunning = false;
    const timer = document.getElementById("timer");
    const progressBar = document.getElementById("progressBar");
    const selectedSport = document.getElementById("selectedSport");
    const startBtn = document.getElementById("startButton");
    const startText = document.getElementById("startButtonText");

    // Sportart aus localStorage holen
    const sport = localStorage.getItem("selectedSport");
    if (sport) {
      selectedSport.textContent = "Sportart: " + sport;
    }

    startBtn.addEventListener("click", () => {
      if (!isRunning) {
        startText.textContent = "STOP";
        isRunning = true;
        timerInterval = setInterval(() => {
          seconds++;
          const min = String(Math.floor(seconds / 60)).padStart(2, "0");
          const sec = String(seconds % 60).padStart(2, "0");
          timer.textContent = `ZEIT ${min}:${sec}`;
          progressBar.style.width = `${Math.min(seconds * 0.5, 100)}%`;
        }, 1000);
      } else {
        clearInterval(timerInterval);
        localStorage.setItem("timerResult", timer.textContent);
        window.location.href = "activity-complete.html";
      }
    });

    // Weekday aktiv setzen
    const weekdayTabs = document.querySelectorAll('.weekday-tab');
    weekdayTabs.forEach(tab => {
      tab.addEventListener('click', () => {
        weekdayTabs.forEach(t => t.classList.remove('active'));
        tab.classList.add('active');
      });
    });
  </script>
</body>
</html>
